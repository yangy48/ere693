# -*- coding: utf-8 -*-
# ---------------------------------------------------------------------------
# WatershedImprovementPlanning.pyt.py
# Created on: 2016-03-05 11:23:00.00000
#   (generated by ArcGIS/ModelBuilder)
# Description: 
# ---------------------------------------------------------------------------

# Import arcpy module
import arcpy


# Local variables:
DEM__2_ = "DEM"
demraster = "C:\\lab06\\Lab06Data.gdb\\demraster"
AnalysisMask = "AnalysisMask"
maskras = "C:\\lab06\\Lab06Data.gdb\\maskras"
Output_drop_raster = ""
DEM = "DEM"
flowdirras = "C:\\lab06\\Lab06Data.gdb\\flowdirras"
accuras = "C:\\lab06\\Lab06Data.gdb\\accuras"
weighed = "C:\\lab06\\Lab06Data.gdb\\weighed"
reclassifed = "C:\\lab06\\Lab06Data.gdb\\reclassifed"
feature = "C:\\lab06\\Lab06Data.gdb\\feature"

# Process: Fill
arcpy.gp.Fill_sa(DEM__2_, demraster, "")

# Process: Polygon to Raster
tempEnvironment0 = arcpy.env.snapRaster
arcpy.env.snapRaster = "DEM"
arcpy.PolygonToRaster_conversion(AnalysisMask, "mask", maskras, "CELL_CENTER", "NONE", "140")
arcpy.env.snapRaster = tempEnvironment0

# Process: Flow Direction
tempEnvironment0 = arcpy.env.mask
arcpy.env.mask = maskras
arcpy.gp.FlowDirection_sa(demraster, flowdirras, "NORMAL", Output_drop_raster)
arcpy.env.mask = tempEnvironment0

# Process: Flow Accumulation
arcpy.gp.FlowAccumulation_sa(flowdirras, accuras, "", "FLOAT")

# Process: Raster Calculator
arcpy.gp.RasterCalculator_sa("\"%accuras%\"*1600/43560", weighed)

# Process: Reclassify
arcpy.Reclassify_3d(weighed, "Value", "0 100 NODATA;100 22532.634765625 1", reclassifed, "DATA")

# Process: Stream to Feature
arcpy.gp.StreamToFeature_sa(reclassifed, flowdirras, feature, "SIMPLIFY")

